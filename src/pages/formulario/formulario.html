<!--
  Generated template for the FormularioPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <img src="assets/imgs/logoHeader.png" class="fotoHeader" />
  </ion-navbar>
</ion-header>


<ion-content class="animated fadeInDownBig" padding>
  <h1 padding text-center>{{asegurado.nombre || 'Sin especificar'}}</h1>
  <hr/>
  <!-- ASEGURADO -->
  <ion-card text-wrap>
    <ion-card-header  (click)="printInsured()">
      <h1 ion-text color="white">Asegurado</h1>
    </ion-card-header>

    <ion-card-content padding>

      <ion-list>
        <ion-item>
          <ion-label floating color="primary">Nombre
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.nombre" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Apellidos
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.apellidos" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Número de teléfono
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.telefono" type="number"></ion-input>
        </ion-item>


        <ion-list radio-group padding>
          <p ion-text color="primary">
            ¿El asegurado puede recuperar el IVA referente al vehículo?
          </p>
          <hr>

          <ion-item>
            <ion-label>Si</ion-label>
            <ion-radio [(checked)]="asegurado.recuperar_iva" value="true"></ion-radio>
          </ion-item>

          <ion-item>
            <ion-label>No</ion-label>
            <ion-radio value="false"></ion-radio>
          </ion-item>

        </ion-list>

        <h2 ion-text color="gris_oscuro">
          Dirección
        </h2>
        <hr>

        <ion-item>
          <ion-label floating color="primary">Calle y número
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.direccion" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Localidad
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.localidad" type="text"></ion-input>
        </ion-item>

      </ion-list>
    </ion-card-content>
  </ion-card>

  <!--VEHÍCULO-->
  <ion-card text-wrap>

    <ion-card-header >
      <h1 ion-text color="white">Vehículo</h1>
    </ion-card-header>


    <ion-card-content padding>

      <ion-list>

        <ion-item>
          <ion-label floating color="primary">Marca
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.marca" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Modelo
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.modelo" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Matrícula
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.matricula" type="text"></ion-input>
        </ion-item>

      </ion-list>

    </ion-card-content>

  </ion-card>

  <!--ASEGURADORA-->
  <ion-card text-wrap>

    <ion-card-header>
      <h1 ion-text color="white">Aseguradora</h1>
    </ion-card-header>
    <hr>


    <ion-card-content padding>
      <ion-list>

        <ion-item>
          <ion-label floating color="primary">Nombre de la aseguradora
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.agencia" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Número de la póliza
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.poliza" type="number"></ion-input>
        </ion-item>

        <br>
        <h2 ion-text color="gris_oscuro">
          Carta verde (solo extranjeros)
        </h2>
        <hr>

        <ion-item>
          <ion-label floating color="primary">Número de carta verde</ion-label>
          <ion-input [(value)]="asegurado.c_verde" type="text"></ion-input>
        </ion-item>

        <ion-item>

          <ion-label color="primary">Válido hasta</ion-label>
          <ion-datetime [(ngModel)]="fechaS_asegurado" (ionChange)="setFecha1(fechaS_asegurado)" displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY"></ion-datetime>
        </ion-item>

        <ion-list radio-group padding>
          <p ion-text color="primary">
            ¿Los daños propios del vehículo están asegurados?
          </p>
          <hr>
          <ion-item>
            <ion-label>Si</ion-label>
            <ion-radio [checked]="asegurado.d_prop_asegurados" value="true"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>No</ion-label>
            <ion-radio value="false"></ion-radio>
          </ion-item>
        </ion-list>


      </ion-list>
    </ion-card-content>

  </ion-card>

  <!--CONDUCTOR-->
  <ion-card text-wrap>

    <ion-card-header >
      <h1 ion-text color="white">Conductor</h1>
    </ion-card-header>


    <ion-card-content padding>

      <ion-list>

        <ion-item>
          <ion-label floating color="primary">Nombre
            <strong>*</strong>
          </ion-label>
          <ion-input [(ngModel)]='asegurado.nombre' type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Apellidos
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.apellidos" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Dirección
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="asegurado.direccion" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label color="primary">Permiso de conducir
            <strong>*</strong>
          </ion-label>
          <ion-select [(ngModel)]="asegurado.permiso">
            <ion-option value="AM">AM</ion-option>
            <ion-option value="A1">A1</ion-option>
            <ion-option value="A2">A2</ion-option>
            <ion-option value="A">A</ion-option>
            <ion-option value="B1">B1</ion-option>
            <ion-option value="B">B</ion-option>
            <ion-option value="C1">C1</ion-option>
            <ion-option value="D1">D1</ion-option>
            <ion-option value="D">D</ion-option>
            <ion-option value="BE">BE</ion-option>
            <ion-option value="C1E">C1E</ion-option>
            <ion-option value="CE">CE</ion-option>
            <ion-option value="D1E">D1E</ion-option>
            <ion-option value="DE">DE</ion-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label color="primary">Fecha de expedición
            <strong>*</strong>
          </ion-label>
          <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY" placeholder="Seleccionar fecha"></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label color="primary">Fecha de caducidad
            <strong>*</strong>
          </ion-label>
          <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY" placeholder="Seleccionar fecha"></ion-datetime>
        </ion-item>

      </ion-list>
    </ion-card-content>

  </ion-card>

  <h1 padding text-center>{{contrario.nombre || 'Sin especificar'}}</h1>
  <hr/>

  <!--
       ##############################################################################
       ##############################################################################
       ##############################################################################
       ##############################################################################
  -->

  <ion-card text-wrap>
    <ion-card-header class="a" (click)="printInsured()">
      <h1 ion-text color="white">Asegurado</h1>
    </ion-card-header>

    <ion-card-content padding>

      <ion-list>
        <ion-item>
          <ion-label floating color="primary">Nombre
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.nombre" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Apellidos
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.apellidos" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Número de teléfono
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.telefono" type="number"></ion-input>
        </ion-item>


        <ion-list radio-group padding>
          <p ion-text color="primary">
            ¿El asegurado puede recuperar el IVA referente al vehículo?
          </p>
          <hr>

          <ion-item>
            <ion-label>Si</ion-label>
            <ion-radio [(checked)]="contrario.recuperar_iva" value="true"></ion-radio>
          </ion-item>

          <ion-item>
            <ion-label>No</ion-label>
            <ion-radio value="false"></ion-radio>
          </ion-item>

        </ion-list>

        <h2 ion-text color="gris_oscuro">
          Dirección
        </h2>
        <hr>

        <ion-item>
          <ion-label floating color="primary">Calle y número
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.direccion" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Localidad
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.localidad" type="text"></ion-input>
        </ion-item>

      </ion-list>
    </ion-card-content>
  </ion-card>

  <!--VEHÍCULO-->
  <ion-card text-wrap>

    <ion-card-header class="a">
      <h1 ion-text color="white">Vehículo</h1>
    </ion-card-header>


    <ion-card-content padding>

      <ion-list>

        <ion-item>
          <ion-label floating color="primary">Marca
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.marca" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Modelo
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.modelo" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Matrícula
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.matricula" type="text"></ion-input>
        </ion-item>

      </ion-list>

    </ion-card-content>

  </ion-card>

  <!--ASEGURADORA-->
  <ion-card text-wrap>

    <ion-card-header class="a">
      <h1 ion-text color="white">Aseguradora</h1>
    </ion-card-header>


    <ion-card-content padding>
      <ion-list>

        <ion-item>
          <ion-label floating color="primary">Nombre de la aseguradora
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.agencia" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Número de la póliza
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.poliza" type="number"></ion-input>
        </ion-item>

        <br>
        <h2 ion-text color="gris_oscuro">
          Carta verde (solo extranjeros)
        </h2>
        <hr>

        <ion-item>
          <ion-label floating color="primary">Número de carta verde</ion-label>
          <ion-input [(value)]="contrario.c_verde" type="text"></ion-input>
        </ion-item>

        <ion-item>

          <ion-label color="primary">Válido hasta</ion-label>
          <ion-datetime [(ngModel)]="fechaS_contrario" (ionChange)="setFecha2(fechaS_contrario)" displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY"></ion-datetime>
        </ion-item>

        <ion-list radio-group padding>
          <p ion-text color="primary">
            ¿Los daños propios del vehículo están asegurados?
          </p>
          <hr>
          <ion-item>
            <ion-label>Si</ion-label>
            <ion-radio [checked]="contrario.d_prop_asegurados" value="true"></ion-radio>
          </ion-item>
          <ion-item>
            <ion-label>No</ion-label>
            <ion-radio value="false"></ion-radio>
          </ion-item>
        </ion-list>


      </ion-list>
    </ion-card-content>

  </ion-card>

  <!--CONDUCTOR-->
  <ion-card text-wrap>

    <ion-card-header class="a">
      <h1 ion-text color="white">Conductor</h1>
    </ion-card-header>


    <ion-card-content padding>

      <ion-list>

        <ion-item>
          <ion-label floating color="primary">Nombre
            <strong>*</strong>
          </ion-label>
          <ion-input [(ngModel)]='contrario.nombre' type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Apellidos
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.apellidos" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating color="primary">Dirección
            <strong>*</strong>
          </ion-label>
          <ion-input [(value)]="contrario.direccion" type="text"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label color="primary">Permiso de conducir
            <strong>*</strong>
          </ion-label>
          <ion-select [(ngModel)]="contrario.permiso">
            <ion-option value="AM">AM</ion-option>
            <ion-option value="A1">A1</ion-option>
            <ion-option value="A2">A2</ion-option>
            <ion-option value="A">A</ion-option>
            <ion-option value="B1">B1</ion-option>
            <ion-option value="B">B</ion-option>
            <ion-option value="C1">C1</ion-option>
            <ion-option value="D1">D1</ion-option>
            <ion-option value="D">D</ion-option>
            <ion-option value="BE">BE</ion-option>
            <ion-option value="C1E">C1E</ion-option>
            <ion-option value="CE">CE</ion-option>
            <ion-option value="D1E">D1E</ion-option>
            <ion-option value="DE">DE</ion-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label color="primary">Fecha de expedición
            <strong>*</strong>
          </ion-label>
          <ion-datetime [(ngModel)]="contrario.c_verde_val" displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY" placeholder="Seleccionar fecha"></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label color="primary">Fecha de caducidad
            <strong>*</strong>
          </ion-label>
          <ion-datetime displayFormat="DD/MM/YYYY" pickerFormat="DD MMMM YYYY" placeholder="Seleccionar fecha"></ion-datetime>
        </ion-item>

      </ion-list>
    </ion-card-content>

  </ion-card>

  <h2 text-center >Otros</h2>
  <hr/>

  <ion-card>

    <ion-card-header class="b">
      <h1 ion-text color="white">Observaciones</h1>
    </ion-card-header>
    <hr/>

    <ion-card-content>
      <ion-item class="audio-item" [ngSwitch]="playing" *ngIf="hasAudio()">

        <p>{{fileName}}</p>
        <button *ngSwitchCase="false" ion-button clear (click)="playAudio()">
          <ion-icon name="play"></ion-icon>
        </button>
        <button *ngSwitchCase="true" ion-button clear (click)="stopAudio()">
          <ion-icon name="pause"></ion-icon>
        </button>

      </ion-item>
    </ion-card-content>

  </ion-card>

  <ion-card *ngIf="hasImages()">

    <ion-card-header class="b">
      <h1 ion-text color="white">Imagenes del accidente</h1>
    </ion-card-header>

    <ion-card-content padding>
      <div class="video-item">
      <img *ngFor="let base64_accidente of base64_accidentes"
        style="width: 100%"
        [src]="base64_accidente | domseguro:'data:image/jpeg;base64,'" />
      </div>
    </ion-card-content>

  </ion-card>

  <ion-card *ngIf="hasVideo()">

    <ion-card-header class="b">
      <h1 ion-text color="white">Video del accidente</h1>
    </ion-card-header>

    <ion-card-content padding>
      <div class="video-item">
        <video #videoOutput
          [src]="urlVideoAccidente"
          controls="controls"
          preload="metadata"
          webkit-playsinline="webkit-playsinline"
          width="200"
          height="160">
        </video>
      </div>
    </ion-card-content>

  </ion-card>



    <button ion-button block icon-left color="secondary" (click)="goOut()">
      <p padding>Enviar</p>

    <ion-icon name="send" color="white"></ion-icon>
    </button>



</ion-content>

